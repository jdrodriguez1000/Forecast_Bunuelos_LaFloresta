# Configuraci贸n del Proyecto: Pron贸stico Bu帽uelos La Floresta
# Este archivo centraliza los par谩metros operativos y el contrato de datos.

project_name: "Bu帽uelos La Floresta Forecasting"

#  Rutas del Sistema (Single Source of Truth)
paths:
  raw_data: "data/01_raw/ventas_mensuales.csv"
  cleansed_data: "data/02_cleansed/"
  features_data: "data/03_features/"
  processed_data: "data/04_processed/"
  reports: "outputs/reports/"
  figures: "outputs/figures/"
  models: "outputs/models/"
  metrics: "outputs/metrics/"

#  Contrato de Datos (Schema Enforcement - Phase 1)
# Aqu铆 definimos exactamente qu茅 columnas permitimos y de qu茅 tipo deben ser.
data_contract:
  columns:
    fecha: "datetime"
    unidades_vendidas_mensuales: "int"
  allow_extra_columns: false  # Si viene una columna no declarada, el sistema fallar谩.

#  Par谩metros del Modelo y Negocio
forecasting:
  horizon: 6            # Pron贸stico obligatorio de 6 meses (X+1 a X+6)
  random_state: 42      # Semilla para reproducibilidad total
  test_size: 0.2        # Proporci贸n para validaci贸n inicial

#  Configuraci贸n de Descubrimiento (Phase 1)
discovery:
  sentinel_values_numeric: [0, -1, 99, 999, 9999]
  sentinel_values_categorical: [" ", "N/A", "NA", "UNKNOWN", "EMPTY"]
  output_report_name: "phase_01_discovery_report.json"

# Ъ Configuraci贸n de Preprocesamiento (Phase 2)
preprocessing:
  rename_columns:
    unidades_vendidas_mensuales: "unidades"
    
  sentinels:
    values: [0, -1, 999, 9999]
    action: "validate_and_nan"  # Convertir a NaN para imputaci贸n posterior

  time_series:
    frequency: "MS"             # Inicio de mes (Month Start)
    exclude_current_month: true # Regla del Mes X: Cortar datos del mes en curso
    date_column: "fecha"

  imputation:
    method: "ffill"             # Forward Fill para mantener la inercia
    fallback_method: "bfill"    # Backfill solo si el primer dato es nulo
    
  outliers:
    method: "iqr"               # M茅todo robusto Intercuartil
    iqr_multiplier: 1.5         # Sensibilidad est谩ndar
    flag_column: "es_atipico"   # Nombre de la nueva columna binaria
    
  output:
    filename: "ventas_preprocesadas.csv"
    report_name: "phase_02_preprocessing_report.json"
